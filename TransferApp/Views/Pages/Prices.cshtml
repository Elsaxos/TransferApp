@using Microsoft.Extensions.Localization
@inject IStringLocalizer<TransferApp.SharedResources> L
@model TransferApp.ViewModels.PricesPublicViewModel

@{
    ViewData["Title"] = L["Prices_Title"];
}

<section class="prices-hero py-5">
    <div class="container">
        <h1 class="prices-title mb-2">@L["Prices_Hero_Title"]</h1>
        <p class="opacity-75 mb-0">@L["Prices_Hero_Subtitle"]</p>
    </div>
</section>

<section class="py-5">
    <div class="container">

        @if (Model?.Items == null || !Model.Items.Any())
        {
            <div class="alert alert-secondary">
                @L["Prices_Empty"]
            </div>
        }
        else
        {
            <div class="table-responsive">
                <table class="table table-striped align-middle prices-table">
                    <thead>
                        <tr>
                            <th>@L["Prices_Table_Col_Route"]</th>
                            <th class="text-nowrap">@L["Prices_Table_Col_OneWay"]</th>
                            <th class="text-nowrap">@L["Prices_Table_Col_RoundTrip"]</th>
                            <th class="text-nowrap">@L["Prices_Table_Col_Request"]</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Items)
                        {
                            <tr>
                                <td>
                                    @{
                                        // Показваме Route според текущия език.
                                        var lang = System.Globalization.CultureInfo.CurrentUICulture.TwoLetterISOLanguageName;
                                        var routeText = lang switch
                                        {
                                            "bg" => item.RouteBg,
                                            "ru" => item.RouteRu,
                                            "fr" => item.RouteFr,
                                            _ => item.RouteEn
                                        };
                                    }
                                    @routeText
                                </td>

                                <td class="text-nowrap fw-bold">€@item.OneWayPrice.ToString("0.00")</td>
                                <td class="text-nowrap fw-bold">€@item.RoundTripPrice.ToString("0.00")</td>
                                <td class="text-nowrap">
                                    <a class="btn btn-sm btn-warning fw-bold" href="/Transfer/Create">
                                        @L["Prices_Order_Button"]
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="alert alert-dark mt-4">
                <div class="fw-bold mb-1">@L["Prices_Important_Title"]</div>
                <div class="opacity-75">@L["Prices_Important_Text"]</div>
            </div>
        }
    </div>
</section>



